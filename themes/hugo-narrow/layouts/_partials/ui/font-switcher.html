{{- if site.Params.showFontSwitch | default true -}}

{{- /* 准备字体菜单内容 */ -}}
{{- $fontMenuContent := "" -}}
{{- $fontMenuContent = printf "%s<button data-font-type=\"custom\" class=\"text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none\">%s<span>%s</span></button>" $fontMenuContent (partial "features/icon.html" (dict "name" "text" "class" "mr-3 h-4 w-4" "size" "md" "ariaLabel" "SmileySans字体")) "SmileySans" -}}
{{- $fontMenuContent = printf "%s<button data-font-type=\"system\" class=\"text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground flex w-full items-center rounded-md px-4 py-2 text-sm transition-all duration-200 ease-out focus:outline-none\">%s<span>%s</span></button>" $fontMenuContent (partial "features/icon.html" (dict "name" "monitor" "class" "mr-3 h-4 w-4" "size" "md" "ariaLabel" "系统字体")) "系统字体" -}}

{{- /* 使用统一的下拉菜单组件 */ -}}
{{- partial "ui/dropdown-button.html" (dict
  "type" "font"
  "icon" "text"
  "ariaLabel" "字体切换"
  "buttonId" "font-toggle"
  "dropdownId" "font-dropdown"
  "menuWidth" "w-40"
  "showCondition" true
  "content" (safeHTML $fontMenuContent)
) -}}

{{- end -}}